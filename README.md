# smart_agriculture
esp32智慧农业



整套系统为"分布式物联网农业系统"。这种架构在物联网农业系统中广泛应用，其中多个从属设备（ESP32-S2传感器模块）通过主控设备（ESP-BOX）与云服务器进行通信和协调。

在这种架构中，系统的功能和任务被分布在多个设备和组件之间，形成一个分布式网络。ESP-BOX作为主控设备负责协调和控制从属设备的行为，并与云服务器进行通信。从属设备负责数据采集和环境监测，将数据发送给主控设备和云服务器。
整套分布式架构具有以下特点：
可扩展性：可以方便地添加或移除从属设备，以适应不同农业场景的需求。
分布式处理：任务和功能在多个设备之间分布，实现数据采集、处理和控制的并行处理。
灵活性：从属设备可以灵活地与主控设备和云服务器进行通信，通过消息传递协议实现高度灵活的数据交换和控制。
高可靠性：系统中的设备和组件之间相互独立，出现故障或异常时，其他设备仍能正常工作，提高了系统的可靠性和容错性。



远程控制端采用微信小程序，极大地简化开发流程，使用起来方便快捷。
云服务器作为控制端与被控端的枢纽，采用MQTT物联网通信协议，
被控端采用一主多从架构,一主指的是一个ESP-BOX作为主控显示与收集多个从机传感器数据,多从指多个ESP32-S2传感器模块负责监控环境状态。
主从之间使用xxx通讯协议。在这种架构中，ESP-BOX充当主控设备，而多个ESP32-S2传感器模块则充当从属设备。ESP-BOX作为主控设备，负责接收来自云服务器的指令，并控制从属设备的行为。从属设备（ESP32-S2传感器模块）负责监测环境数据，并将数据发送给主控设备进行处理和上传。

该架构的主控设备（ESP-BOX）与从属设备（ESP32-S2传感器模块）之间通常采用某种通信协议进行数据交换。在你的架构中，使用了MQTT通信协议，并通过云服务器进行消息传递。这种一主多从架构使得系统能够扩展和管理多个从属设备，同时由主控设备统一协调和控制这些设备的行为。
从机采用自适应上传频率算法，当环境状态变化缓慢时，数据上传时间为1min，当环境发生剧烈变化时，数据上传时间改为5s钟，在不丢失重要数据的前提下，减少了网络带宽的占用与功耗。
![image](https://github.com/CyberMakes/smart_agriculture/assets/97647206/21cb8bc8-492b-48cf-986e-453efb653b5d)

我的思路是ESP-BOX作为主控设备  多个ESP32-S2加传感器作为传感器设备,所以主界面要显示所有的传感器设备,然后点击相应设备之后打开对应的传感器界面,传感器界面有传感器的数值,传感器数值来自mqtt消息
